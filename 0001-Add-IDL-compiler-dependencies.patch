From becb975e21ab90c3ea6d6985b1b137b19919de10 Mon Sep 17 00:00:00 2001
From: Scott K Logan <logans@cottsay.net>
Date: Tue, 15 Sep 2020 16:39:23 -0700
Subject: [PATCH] Add IDL compiler dependencies

Signed-off-by: Scott K Logan <logans@cottsay.net>
---
 package.xml          | 4 ++++
 rpm/template.spec.em | 6 ++++++
 2 files changed, 10 insertions(+)

diff --git a/package.xml b/package.xml
index efb8e8a..7b50cf6 100644
--- a/package.xml
+++ b/package.xml
@@ -12,6 +12,10 @@
     <url type="repository">https://github.com/eclipse-cyclonedds/cyclonedds</url>
 
     <buildtool_depend>cmake</buildtool_depend>
+    <buildtool_depend>java</buildtool_depend>
+    <buildtool_depend>maven</buildtool_depend>
+    <buildtool_export_depend>java</buildtool_export_depend>
+    <buildtool_export_depend>maven</buildtool_export_depend>
     <depend>openssl</depend>
     <test_depend>libcunit-dev</test_depend>
     <doc_depend>python3-sphinx</doc_depend>
diff --git a/rpm/template.spec.em b/rpm/template.spec.em
index c0d00ea..76b0cf6 100644
--- a/rpm/template.spec.em
+++ b/rpm/template.spec.em
@@ -15,7 +15,13 @@ License:        @(License)
 Source0:        %{name}-%{version}.tar.gz
 @[if NoArch]@\nBuildArch:      noarch@\n@[end if]@
 
+Requires:       java
+Requires:       maven
+Requires:       perl-Data-Dumper
 @[for p in Depends]Requires:       @p@\n@[end for]@
+BuildRequires:  java
+BuildRequires:  maven
+BuildRequires:  perl-Data-Dumper
 @[for p in BuildDepends]BuildRequires:  @p@\n@[end for]@
 @[for p in Conflicts]Conflicts:      @p@\n@[end for]@
 @[for p in Replaces]Obsoletes:      @p@\n@[end for]@
-- 
2.26.2

